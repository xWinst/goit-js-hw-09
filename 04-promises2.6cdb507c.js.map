{"mappings":"gfAAA,IAEIA,EAFJC,EAAAC,EAAA,SAiBA,SAASC,EAAeC,EAAOC,GACtBA,IACLF,EAAeC,EAAQJ,EAAOK,EAAS,GAc3C,SAAuBC,EAAUF,GAE7B,OADAG,QAAQC,IAAIF,GACL,IAAIG,SAAQ,SAACC,EAASC,GACzBC,YAAW,WACeC,KAAKC,SAAW,GAElCJ,EAAQ,CAAEJ,WAAUF,UAEpBO,EAAO,CAAEL,WAAUF,YAExBA,MAvBPW,CAAcV,EAAQD,GACjBY,MAAK,SAAAC,G,IAAGX,EAAQW,EAARX,SAAUY,EAAKD,EAALb,M,OACfH,EAAAkB,OAAOC,QAAQ,qBAAoCC,OAAff,EAAS,QAAYe,OAANH,EAAM,MAAK,CAC1DI,QAAS,SAGhBC,OAAM,SAAAN,G,IAAGX,EAAQW,EAARX,SAAUY,EAAKD,EAALb,M,OAChBH,EAAAkB,OAAOK,QAAQ,oBAAmCH,OAAff,EAAS,QAAYe,OAANH,EAAM,MAAK,CACzDI,QAAS,UA3BZG,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GAClBA,EAAMC,iBACN,IAEuBC,EAAnBF,EAAMG,cADNC,SAAY5B,EAAK0B,EAAL1B,MAAO6B,EAAIH,EAAJG,KAAM5B,EAAMyB,EAANzB,OAG7BD,EAAQ8B,OAAO9B,EAAM+B,OACrBnC,EAAQkC,OAAOD,EAAKE,OACpB9B,EAAS6B,OAAO7B,EAAO8B,OACvBhC,EAAeC,GAASC,EAAS,GAAKL,EAAOK,M","sources":["src/js/04-promises2.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst form = document.querySelector('.form');\nlet stair;\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    let {\n        elements: { delay, step, amount },\n    } = event.currentTarget;\n\n    delay = Number(delay.value);\n    stair = Number(step.value);\n    amount = Number(amount.value);\n    promiseFactory(delay + (amount - 1) * stair, amount);\n}\n\nfunction promiseFactory(delay, amount) {\n    if (!amount) return;\n    promiseFactory(delay - stair, amount - 1);\n    createPromise(amount, delay)\n        .then(({ position, delay }) =>\n            Notify.success(`Fulfilled promise ${position} in ${delay}ms`, {\n                timeout: 6000,\n            })\n        )\n        .catch(({ position, delay }) =>\n            Notify.failure(`Rejected promise ${position} in ${delay}ms`, {\n                timeout: 6000,\n            })\n        );\n}\n\nfunction createPromise(position, delay) {\n    console.log(position);\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            const shouldResolve = Math.random() > 0.3;\n            if (shouldResolve) {\n                resolve({ position, delay });\n            } else {\n                reject({ position, delay });\n            }\n        }, delay);\n    });\n}\n"],"names":["$34bb75171da5feaa$var$stair","$h6c0i","parcelRequire","$34bb75171da5feaa$var$promiseFactory","delay","amount","position","console","log","Promise","resolve","reject","setTimeout","Math","random","$34bb75171da5feaa$var$createPromise","then","param","_$delay","Notify","success","concat","timeout","catch","failure","document","querySelector","addEventListener","event","preventDefault","_elements","currentTarget","elements","step","Number","value"],"version":3,"file":"04-promises2.6cdb507c.js.map"}