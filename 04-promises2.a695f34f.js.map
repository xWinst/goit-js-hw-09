{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,IAAIC,EAeJ,SAASC,EAAeC,EAAOC,GAgB/B,IAAuBC,EAAUC,EAfxBF,IACLF,EAAeC,EAAQF,EAAOG,EAAS,IAcpBC,EAbLD,EAaeE,EAbPH,EActBI,QAAQC,IAAIH,GACL,IAAII,SAAQ,CAACC,EAASC,KACzBC,YAAW,KACeC,KAAKC,SAAW,GAElCJ,EAAQ,C,SAAEL,E,MAAUC,IAEpBK,EAAO,C,SAAEN,E,MAAUC,MAExBA,OAtBFS,MAAK,EAACV,SAAEA,EAAQC,MAAEA,KACfP,EAAAiB,OAAOC,QAAQ,qBAAqBZ,QAAeC,MAAW,CAC1DY,QAAS,QAGhBC,OAAM,EAACd,SAAEA,EAAQC,MAAEA,KAChBP,EAAAiB,OAAOI,QAAQ,oBAAoBf,QAAeC,MAAW,CACzDY,QAAS,SA3BZG,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GAClBA,EAAMC,iBACN,IACIC,UAAUpB,MAAEA,EAAKqB,KAAEA,EAAIvB,OAAEA,IACzBoB,EAAMI,cAEVtB,EAAQuB,OAAOvB,EAAMwB,OACrB7B,EAAQ4B,OAAOF,EAAKG,OACpB1B,EAASyB,OAAOzB,EAAO0B,OACvB5B,EAAeI,GAASF,EAAS,GAAKH,EAAOG","sources":["src/js/04-promises2.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst form = document.querySelector('.form');\nlet stair;\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    let {\n        elements: { delay, step, amount },\n    } = event.currentTarget;\n\n    delay = Number(delay.value);\n    stair = Number(step.value);\n    amount = Number(amount.value);\n    promiseFactory(delay + (amount - 1) * stair, amount);\n}\n\nfunction promiseFactory(delay, amount) {\n    if (!amount) return;\n    promiseFactory(delay - stair, amount - 1);\n    createPromise(amount, delay)\n        .then(({ position, delay }) =>\n            Notify.success(`Fulfilled promise ${position} in ${delay}ms`, {\n                timeout: 6000,\n            })\n        )\n        .catch(({ position, delay }) =>\n            Notify.failure(`Rejected promise ${position} in ${delay}ms`, {\n                timeout: 6000,\n            })\n        );\n}\n\nfunction createPromise(position, delay) {\n    console.log(position);\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            const shouldResolve = Math.random() > 0.3;\n            if (shouldResolve) {\n                resolve({ position, delay });\n            } else {\n                reject({ position, delay });\n            }\n        }, delay);\n    });\n}\n"],"names":["$iQIUW","parcelRequire","$3fd7c6b1c4a2be07$var$stair","$3fd7c6b1c4a2be07$var$promiseFactory","delay1","amount","position","delay","console","log","Promise","resolve","reject","setTimeout","Math","random","then","Notify","success","timeout","catch","failure","document","querySelector","addEventListener","event","preventDefault","elements","step","currentTarget","Number","value"],"version":3,"file":"04-promises2.a695f34f.js.map"}